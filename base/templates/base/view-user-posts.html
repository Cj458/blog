{% extends 'main.html' %}

{% block content %}
<main>


<div class="container" style="width:1000px; margin-top: 100px; margin-bottom: 50px">
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3" style="padding-left:100px; padding-bottom: 20px">
        {% if posts %}
          {% for post in posts %}
        <div class="col">
          <div class="card shadow-sm" style="min-height: 300px; min-width: 250px;">
            <svg class="bd-placeholder-img card-img-top" width="100%" height="225" 
                  xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 
                  Thumbnail" preserveAspectRatio="xMidYMid slice" 
                  focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/>
                  <text x="50%" y="50%" fill="#eceeef" dy=".3em">{{ post.title }}</text>
            </svg>
            <div class="card-body" style="min-height: 150px;">
                  <p class="card-text">{{ post.body|slice:":300" }}</p>
                  <div class="d-flex justify-content-between align-items-center">
                    {% if request.user == post.user %}
                      <div class="btn-group">

                        <button type="button" class="btn btn-sm btn-outline-secondary"><a href= "{% url 'post_detail' post_id=post.id%}">Read post</a></button>
                                       
                        {% comment %} <button type="button" class="btn btn-sm btn-outline-secondary">Read post</button> {% endcomment %}
                        <button type="button" class="btn btn-sm btn-outline-secondary"><a href="{% url 'edit_post' post.id %}">Edit post</a></button>
                      </div>
                    {% else %}
                      {% comment %} <button type="button" class="btn btn-sm btn-outline-secondary">Read post</a></button> {% endcomment %}
                      <button type="button" class="btn btn-sm btn-outline-secondary"><a href= "{% url 'post_detail' post_id=post.id%}">Read post</a></button>
                    {% endif %}
                  </div>
            </div>
          </div>
        </div>
          {% endfor %}
        {% else %}
        <p class="card-text">This user has no posts published</p>
      {% endif %}
    </div>
  </div>

  <div style="display: flex; justify-content: center; margin-bottom: 20px;">
    <div style="margin-top: 20px; padding: 10px;">
      <a class="btn btn--main" style="" href="{% url 'create-post'%}">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
          <title>add</title>
          <path d="M16.943 0.943h-1.885v14.115h-14.115v1.885h14.115v14.115h1.885v-14.115h14.115v-1.885h-14.115v-14.115z"></path>
        </svg>
        Create Post
      </a>
    </div>
  </div>
  
</main>
{% endblock content %}



{% comment %} {% extends 'main.html' %}

{% block content %}

<main>

<div class="container" style="width:1000px; margin-top: 100px; margin-bottom: 50px">
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3" style="padding-left:100px; padding-bottom: 20px">
        {% if posts %}
          {% for post in posts %}
        <div class="col">
          <div class="card shadow-sm" style="min-height: 300px; min-width: 250px;">
            <svg class="bd-placeholder-img card-img-top" width="100%" height="225" 
                  xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 
                  Thumbnail" preserveAspectRatio="xMidYMid slice" 
                  focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/>
                  <text x="50%" y="50%" fill="#eceeef" dy=".3em">{{ post.title }}</text>
            </svg>
            <div class="card-body" style="min-height: 150px;">
                  <p class="card-text">{{ post.body|slice:":300" }}</p>
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="btn-group">
                      <button type="button" class="btn btn-sm btn-outline-secondary">Read post</button>
                      <button type="button" class="btn btn-sm btn-outline-secondary">Edit post</button>
                    </div>
                    <small class="text-body-secondary">9 mins</small>
                  </div>
            </div>
          </div>
        </div>
          {% endfor %}
        {% else %}
        <p class="card-text">This user has no posts published</p>
      {% endif %}
    </div>
  </div>
  
</main>
{% endblock content %} {% endcomment %}

